<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.project.pms.project.repository.ProjectDAO">
	<resultMap type="project" id="projectMap">
		<result column="prj_id" property="projectId"/>
		<result column="prj_status_id" property="statusId"/>
		<result column="prj_type_id" property="typeId"/>
		<result column="rd_type_id" property="rndTypeId"/>
		<result column="name" property="title"/>
		<result column="content" property="content"/>
		<result column="pm_id" property="pmId"/>
		<result column="start_at" property="startAt"/>
		<result column="end_at" property="endAt"/>
		<result column="create_at" property="createdAt"/>
		<result column="update_at" property="updatedAt"/>
	</resultMap>
	
	<select id="getList" resultMap="projectMap">
		SELECT *
		FROM TBL_PROJECT
	</select>
	
	<insert id="insertProject" parameterType="project">
		INSERT INTO TBL_PROJECT
		VALUES (review_seq.nextVal, #{statusId}, #{typeId}, #{rndTypeId}, #{title}, #{content}, #{pmId}, #{startAt}, #{endAt}, sysdate, sysdate)
	</insert>
	
	<select id="getProjectById" resultMap="projectMap" parameterType="int">
		SELECT *
		FROM TBL_PROJECT
		WHERE prj_id = #{id}
	</select>
</mapper>